"""
–°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ üôÇ
–î–∞–Ω —Å–ø–∏—Å–æ–∫ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏, –≤ –∫–æ—Ç–æ—Ä–æ–º —É–∫–∞–∑–∞–Ω—ã –∏—Ö —Ñ–∞–º–∏–ª–∏–∏, –∏–º–µ–Ω–∞ –∏ –¥–∞—Ç—ã —Ä–æ–∂–¥–µ–Ω–∏—è. –ù–∞–ø–∏—à–∏—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É, –∫–æ—Ç–æ—Ä–∞—è
–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –≤ –∫–∞–∫—É—é –∏–∑ –¥–∞—Ç —Ä–æ–¥–∏–ª–æ—Å—å –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤.

–§–æ—Ä–º–∞—Ç –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
–ù–∞ –≤—Ö–æ–¥ –ø—Ä–æ–≥—Ä–∞–º–º–µ –≤ –ø–µ—Ä–≤–æ–π —Å—Ç—Ä–æ–∫–µ –ø–æ–¥–∞–µ—Ç—Å—è –Ω–∞—Ç—É—Ä–∞–ª—å–Ω–æ–µ —á–∏—Å–ª–æ
ÔøΩ
n ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤, —Ä–∞–±–æ—Ç–∞—é—â–∏—Ö –≤ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏. –í –ø–æ—Å–ª–µ–¥—É—é—â–∏—Ö
ÔøΩ
n —Å—Ç—Ä–æ–∫–∞—Ö –≤–≤–æ–¥—è—Ç—Å—è –¥–∞–Ω–Ω—ã–µ –æ –∫–∞–∂–¥–æ–º —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–µ: –∏–º—è, —Ñ–∞–º–∏–ª–∏—è –∏ –¥–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è, —Ä–∞–∑–¥–µ–ª—ë–Ω–Ω—ã–µ –ø—Ä–æ–±–µ–ª–æ–º. –î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è
—É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ DD.MM.YYYY.

–§–æ—Ä–º–∞—Ç –≤—ã—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
–ü—Ä–æ–≥—Ä–∞–º–º–∞ –¥–æ–ª–∂–Ω–∞ –≤—ã–≤–µ—Å—Ç–∏ –¥–∞—Ç—É, –≤ –∫–æ—Ç–æ—Ä—É—é –Ω–∞–∏–±–æ–ª—å—à–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –æ—Ç–º–µ—á–∞–µ—Ç –¥–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è, –≤ —Ñ–æ—Ä–º–∞—Ç–µ DD.MM.YYYY.
–ï—Å–ª–∏ —Ç–∞–∫–∏—Ö –¥–∞—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ, –ø—Ä–æ–≥—Ä–∞–º–º–∞ –¥–æ–ª–∂–Ω–∞ –≤—ã–≤–µ—Å—Ç–∏ –∏—Ö –≤—Å–µ –≤ –ø–æ—Ä—è–¥–∫–µ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—è, –∫–∞–∂–¥—É—é –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω–æ–π —Å—Ç—Ä–æ–∫–µ, –≤ —Ç–æ–º –∂–µ
—Ñ–æ—Ä–º–∞—Ç–µ.

–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ. –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–æ—Å—Ç—É–ø–Ω—ã –ø–æ —Å—Å—ã–ª–∫–∞–º:

–ê—Ä—Ö–∏–≤ —Å —Ç–µ—Å—Ç–∞–º–∏
GitHub
Sample Input 1:

5
–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤ 01.05.1995
–ü–µ—Ç—Ä –°–µ—Ä–≥–µ–µ–≤ 29.04.1995
–°–µ—Ä–≥–µ–π –†–æ–º–∞–Ω–æ–≤ 01.01.1996
–†–æ–º–∞–Ω –ì—Ä–∏–≥–æ—Ä—å–µ–≤ 01.01.1996
–ì—Ä–∏–≥–æ—Ä–∏–π –ò–≤–∞–Ω–æ–≤ 01.05.1995
Sample Output 1:

01.05.1995
01.01.1996
Sample Input 2:

5
–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤ 14.10.1995
–ü–µ—Ç—Ä –°–µ—Ä–≥–µ–µ–≤ 29.04.1992
–°–µ—Ä–≥–µ–π –†–æ–º–∞–Ω–æ–≤ 01.01.1994
–†–æ–º–∞–Ω –ì—Ä–∏–≥–æ—Ä—å–µ–≤ 01.01.1994
–ì—Ä–∏–≥–æ—Ä–∏–π –ò–≤–∞–Ω–æ–≤ 16.07.1995
Sample Output 2:

01.01.1994
"""
from datetime import datetime

employees = [input().split()[2] for _ in range(int(input()))]
same_birthday = {}

for i in employees:
    same_birthday[i] = same_birthday.get(i, 0) + 1

max_count_birth = max(same_birthday.values())

same_birthday_sort = dict(sorted(list(same_birthday.items()), key=lambda x: datetime.strptime(x[0], '%d.%m.%Y')))
print(*list(filter(lambda x: same_birthday_sort[x] == max_count_birth, same_birthday_sort.keys())), sep='\n')

# *************************************************************************************************************

d = {}
pattern = '%d.%m.%Y'

for _ in range(int(input())):
    text = input().split()
    key = datetime.strptime(text[2], pattern)
    d[key] = d.setdefault(key, 0) + 1


for data, n in sorted(d.items()):
    if n == max(d.values()):
        print(data.strftime(pattern))